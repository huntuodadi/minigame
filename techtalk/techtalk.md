# 从一个微信小游戏入门计算机图形学

## 计算机图形学简介

计算机图形学(Computer Graphics)的内容非常丰富，又和许多学科有交叉，随着技术的发展，它触及到的范围又不断延伸，因此很难对计算机图形学下一个准确的定义。

简单地说，计算机图形学的主要研究内容就是研究如何在计算机中表示图形、以及利用计算机进行图形的计算、处理和显示的相关原理与算法。图形通常由点、线、面、体等几何元素和灰度、色彩、线型、线宽等非几何属性组成。狭义上讲，它和数组图像处理互为逆过程: 计算机图形学用计算机来画图像，数字图像处理采集现实中的图像用计算机进行处理。为什么说是狭义上讲，因为这两个学科有很多共同的子领域，很多概念和方法也是相通的。

## 我们关注的领域

从应用的方面看，计算机图形学的应用主要分两类:

* 一类是应用在特定的专业的领域，如工程图、等高线地图等
* 一类是模拟现实世界，也就是通常所说的真实感图形
个人认为，第一类也可以归位第二类，工程图等图形实际上是对现实世界的抽象

从适用性上看第二类更通用，目前也是计算机图形学的主要目的之一。我们接下来也主要关注第二类

## 计算机图形学的主要内容

该学科主要解决的是如果用计算机表达几何图形。经过几十年的发展，其所研究的内容也已经极其丰富。但主要内容可以归类为以下4种

### 1. 建模(Modeling)

要在计算机中表示一个三维物体，首先要有它的几何模型表达。因此，三维模型的建模是计算机图形学的基础，是其他内容的前提。表达一个几何物体可以是用数学上的样条函数或隐式函数来表达；也可以是用光滑曲面上的采样点及其连接关系所表达的三角网格来表达（即连续曲面的分片线性逼近）
建模的方法

* 软件手工直接建模，如3d max，maya等建模软件
* 基于语法规则，适合有确定规则和大量重复场景，如建筑，树木等。HTML也属于此类
* 基于扫描点云
* 基于现有模型来建模
* ... ...
![旋转](./model.jpeg)

### 2. 渲染(Rendering)

有了三维模型或场景，怎么把这些三维几何模型画出来，产生令人赏心悦目的真实感图像？这就是传统的计算机图形学的核心任务，在计算机辅助设计，影视动漫以及各类可视化应用中都对图形渲染结果的高真实感提出了很高的要求。
为了模拟物理世界，已经有大量渲染模型，如光照模型，光线追踪算法以及各种更复杂真实的技术。
现代技术已经能将各种物体渲染的非常逼真，影视中大量用到了这些渲染技术，但可惜的是电影仍然需要渲染出每一帧再组合成视频。受困于GPU性能和渲染算法，我们离实时地渲染高真实感，高分辨率的场景还有大差距

### 3. 动画(Animation)

动画是采用连续播放静止图像的方法产生物体运动的效果。
研究方向包括：物理仿真(simulation)，人体动画，关节动画，运动动画，脚本动画，具有人的意识的虚拟角色的动画系统等。
另外，高度物理真实感的动态模拟，包括对各种形变、水、气、云、烟雾、燃烧、爆炸、撕裂、老化等物理现象的真实模拟，也是动画领域的主要问题。

### 4. 人机交互(Human–Computer Interaction, HCI)

人机交互（Human-Computer Interaction, 简写HCI）是指人与计算机之间以一定的交互方式或交互界面，来完成确定任务的人与计算机之间的信息交换过程

早期只有以键盘输入的字符界面，后来以WIMP(窗口、图符、菜单、鼠标)为基础的图形用户界面(GUI)逐渐成为主流，现在在WIMP基础上出现了多种交互手段，如自然语言，姿势输入，跟踪技术等等；脑机交互还在起步阶段，在医学等领域已经有了简单的应用。

## 如何系统地学习计算机图形学

[现代计算机图形学入门](http://games-cn.org/intro-graphics/)
[B站录播视频](https://www.bilibili.com/video/av90798049)

【1】：计算机图形学概述

【2】：向量与线性代数

【3】：基础变换（二维）

【4】：基础变换（三维）
一个几何体的变换可以看成组成改几何体的所有点的变换，平移，旋转，伸缩等
[旋转](https://zh.wikipedia.org/wiki/%E6%97%8B%E8%BD%AC)
![旋转](./rotate.svg)

【5】：三维到二维变换（模型、视图、投影）

【6】：光栅化（离散化三角形）
光栅化的目的，是找出一个几何单元（比如三角形）所覆盖的像素
![点云](./光栅化.jpg)

【7】：光栅化（深度测试与抗锯齿）

【8】：着色（光照与基本着色模型）
直接光照(镜面反射) 漫反射 间接光照(环境光)
![点云](./光照.png)

【9】：着色（着色频率、图形管线、纹理映射）
逐顶点着色
![点云](./逐顶点.png)
逐像素着色
![点云](./逐像素.png)

【10】：几何（基本表示方法）
隐式几何: x^2 + y^2 + z^2 = 1

显式几何:
点云
![点云](./pointClouds.jpg)
多边形网络
![点云](./poly.jpg)

【11】：几何（曲线与曲面）

【12】：几何（前沿动态）

【13】：光线追踪（基本原理）
光线追踪三维计算机图形学中的特殊渲染算法，追踪光线从来源开始照射到物体上，再由物体反射的光线“路径”。
![光线追踪](./光线追踪.gif)

【14】：光线追踪（加速结构）

【15】：路径追踪与光的传播理论

【16】：复杂外观建模与光的传播、实时光线追踪（前沿动态）

【17】：相机、透镜与光场
相机: 观察物体的地点的角度，影响可视窗口的大小，我们实际上只需要渲染可视区域。相机的变换是物体的逆变换

【18】：颜色与感知

【19】：动画与模拟（基本概念、逆运动学、质点弹簧系统）
人体结构,刚体流体力学的应用等等

【20】：物质点法（前沿动态）

## 为什么选用跳一跳小游戏

足够简单 但有涵盖了上面4个主要内容

分析:
游戏分为两个阶段 game和game-over
游戏模型分两种：一种是player，是一个不规则物体，由一个一直在旋转的头，身体，和底座组成。另一种是场景，生成随机大小的立方体或圆柱体
游戏玩法：按住屏幕player和下面的平台会压缩，松开后向前做抛物运动，落在下一个平台后加一分，否则失败，显示game over的弹窗
